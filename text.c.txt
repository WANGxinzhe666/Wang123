#define _CRT_SECURE_NO_WARNINGS 1 
#include "game.h"	




void menu() {
	printf("********************************\n");
	printf("*******1   play*****************\n");
	printf("*******0   exit*****************\n");
}
void game() {
	char ret = 0;
	char board[ROW][COL] = { 0 };
	intboard(board,ROW,COL);
	playboard(board,ROW,COL);
	
	while (1) {
	playermove(board,ROW,COL);//玩家下棋
	playboard(board, ROW, COL);
	/// 
	/// 判断输赢
	/// 
	ret = iswin(board, ROW, COL);
	if (ret != 'C') {
		break;


	}
	computermove(board, ROW, COL);//电脑随机下棋
	playboard(board, ROW, COL);
	ret = iswin(board, ROW, COL);
	if (ret != 'C') {
		break;


	}
	


	}
	if (ret == '*') {
		printf("玩家赢了\n");
	}
	else if (ret == '#') {
		printf("电脑赢了\n");
	}
	else {
		printf("平局\n");
	}
	playboard(board, ROW, COL);

	


//什么情况，游戏就结束了
	//1.玩家赢 - '*'
	//2.电脑赢 - '#'
	//3.平局   - 'Q'
	//4.继续 - 'C'



	}
	
	
	



void test(){
	int input = 0;
	srand((unsigned int)time(NULL));
	do {
	menu();
	printf("请输入你的选择：");
	scanf("%d", &input);
	switch (input)
	{ case 1:
		game();//游戏
		//printf("三字棋\n");
		break;
	case 0:
		printf("请退出游戏：\n");
		break;
	default:
		printf("请重新输入：\n");
		break;
	}
	}






	while (input);
	
}
int main() {
	test();
	return 0;
}